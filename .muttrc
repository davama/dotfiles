##########################
# need to test these
# https://ryanlue.com/posts/2017-05-21-mutt-the-vim-way
##########################

##########################
# mail account settings
set use_from = yes
set envelope_from = yes
set folder = "imaps://imap.gmail.com"
set spoolfile = "+INBOX"
set ssl_force_tls = yes
set record="+[Gmail]/Sent Mail"
set postponed="+[Gmail]/Drafts"
set trash = "imaps://imap.gmail.com/[Gmail]/Trash"
mailboxes = +INBOX
mailboxes = +'Drafts'
mailboxes = +'Sent Mail'
mailboxes = +'All Mail'
mailboxes = +'Trash'

##########################
# https://gist.github.com/miguelmota/9456162
# $MAIL_ACCOUNT taken from ~/.bashrc
# folder hooks
folder-hook "$MAIL_ACCOUNT_1" 'source ~/.mutt/$MAIL_ACCOUNT_1'
folder-hook "$MAIL_ACCOUNT_2" 'source ~/.mutt/$MAIL_ACCOUNT_2'
folder-hook "$MAIL_ACCOUNT_3" 'source ~/.mutt/$MAIL_ACCOUNT_3'
folder-hook "$MAIL_ACCOUNT_4" 'source ~/.mutt/$MAIL_ACCOUNT_4'
folder-hook "$MAIL_ACCOUNT_5" 'source ~/.mutt/$MAIL_ACCOUNT_5'
# default account
source ~/.mutt/$MAIL_ACCOUNT_1
# macros for switching accounts
macro index <f2> '<sync-mailbox><enter-command>source ~/.mutt/$MAIL_ACCOUNT_1<enter><change-folder>!<enter>' "Go to $MAIL_ACCOUNT_1"
macro index <f3> '<sync-mailbox><enter-command>source ~/.mutt/$MAIL_ACCOUNT_2<enter><change-folder>!<enter>' "Go to $MAIL_ACCOUNT_2"
macro index <f4> '<sync-mailbox><enter-command>source ~/.mutt/$MAIL_ACCOUNT_3<enter><change-folder>!<enter>' "Go to $MAIL_ACCOUNT_3"
macro index <f5> '<sync-mailbox><enter-command>source ~/.mutt/$MAIL_ACCOUNT_4<enter><change-folder>!<enter>' "Go to $MAIL_ACCOUNT_4"
macro index <f6> '<sync-mailbox><enter-command>source ~/.mutt/$MAIL_ACCOUNT_5<enter><change-folder>!<enter>' "Go to $MAIL_ACCOUNT_5"
# set sidebar
bind index,pager B sidebar-toggle-visible
# because "All Mail" and "Sent Mail" have a space in them...
bind editor <space> noop
# Gmail-style keyboard shortcuts
macro index ga "<change-folder>=[Gmail]/All Mail<enter>" "Go to all mail"
macro index gs "<change-folder>=[Gmail]/Sent Mail<enter>" "Go to sent mail"
macro index gd "<change-folder>=[Gmail]/Drafts<enter>" "Go to drafts"
macro index gi "<change-folder>=INBOX<enter>" "Go to inbox"
macro index gt "<change-folder>=[Gmail]/Trash<enter>" "Go to trash"
macro index,pager dd "<save-message>=[Gmail]/Trash<enter><enter>" "Move message to Trash"
macro index,pager dat "<delete-thread><sync-mailbox>" "Move thread to Trash"

##########################
# Index Key Bindings Vim-style
bind index gg       first-entry
bind index G        last-entry# set sidebar
bind index R        group-reply
bind index <tab>  imap-fetch-mail
bind index <space>  collapse-thread

##########################
# options
set editor = "vim -c 'set spell spelllang=en'"
set charset = "utf-8"
set sort = reverse-threads
set sort_aux = last-date-received
set timeout=30
set mail_check=5
set beep_new # bell on new mails
# view HTML formated messages
#auto_view text/html
set menu_scroll # scroll in menus
set tilde
# Status Bar
set status_chars  = " *%A"
set status_format = "───[ Folder: %f ]───[%r%m messages%?n? (%n new)?%?d? (%d to delete)?%?t? (%t tagged)? ]───%>─%?p?( %p postponed )?───"

##########################
# Color
# general-doesn't-fit stuff
color normal     brightwhite color232
color error      color115 color236
color markers    color142 color238
color tilde      color108 color232
color status     color144 color234
 
# index stuff
color indicator  color108 color236
color tree       color109 color232
color index      color188 color232 ~A
color index      brightred color232 ~N
color index      brightred color232 ~O
color index      color174 color232 ~F
color index      color174 color232 ~D
 
# header stuff
color hdrdefault color223 color232
color header     color223 color232 "^Subject"
 
# gpg stuff
color body       color188 color232 "^gpg: Good signature.*"
color body       color115 color236 "^gpg: BAD signature.*"
color body       color174 color232 "^gpg: Can't check signature.*"
color body       color174 color232 "^-----BEGIN PGP SIGNED MESSAGE-----"
color body       color174 color232 "^-----BEGIN PGP SIGNATURE-----"
color body       color174 color232 "^-----END PGP SIGNED MESSAGE-----"
color body       color174 color232 "^-----END PGP SIGNATURE-----"
color body       color174 color232 "^Version: GnuPG.*"
color body       color174 color232 "^Comment: .*"
 
# url, email and web stuff
color body       color174 color232 "(finger|ftp|http|https|news|telnet)://[^ >]*"
color body       color174 color232 "<URL:[^ ]*>"
color body       color174 color232 "www\\.[-.a-z0-9]+\\.[a-z][a-z][a-z]?([-_./~a-z0-9]+)?"
color body       color174 color232 "mailto: *[^ ]+\(\\i?subject=[^ ]+\)?"
color body       color174 color232 "[-a-z_0-9.%$]+@[-a-z_0-9.]+\\.[-a-z][-a-z]+"
 
# misc body stuff
color attachment color174 color232 #Add-ons to the message
color signature  color223 color232
 
# quote levels
color quoted     color108 color232
color quoted1    color116 color232
color quoted2    color247 color232
color quoted3    color108 color232
color quoted4    color116 color232
color quoted5    color247 color232
color quoted6    color108 color232
color quoted7    color116 color232
color quoted8    color247 color232
color quoted9    color108 color232
